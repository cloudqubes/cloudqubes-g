"use strict";(self.webpackChunkcloudqubes=self.webpackChunkcloudqubes||[]).push([[709],{5801:function(e,t,n){n.r(t),n.d(t,{Head:function(){return d},default:function(){return u}});var a=n(1151),l=n(7294);function r(e){const t=Object.assign({p:"p",code:"code",span:"span",em:"em",h1:"h1",pre:"pre"},(0,a.ah)(),e.components);return l.createElement(l.Fragment,null,l.createElement("div",{class:"header-highlight"},l.createElement(t.p,null,"Start committing code to your private Git server in just 4 steps.")),"\n",l.createElement(t.p,null,"Setting up a private Git repository server is easy."),"\n",l.createElement(t.p,null,"Follow these four steps and you can start committing code to your private Git Server from any number of ",l.createElement(t.code,null,"Developer Workstations")),"\n",l.createElement(t.p,null,l.createElement(t.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 820px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/99782d8888a9dacb6cf6ea6ec5ca18eb/9f82e/git-server-and-workstation.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABYUlEQVR42o2SyU7DMBCG+3q8Bu+AxIkzR96FEwIJoR4AAaJV1dIWVHVJnECTeImzkBR+xoZUaZRKHD57PGtmMp2iKJBl2ZbckCZEauXsn6Tkv9ls0DEPIQSklBBEGHGEOv2FZKOTrVDMX1xFWZbo5HluH3Gs4AUcLN3A7/fgDwdwdIEgEtA6JnsNrYnU3kqpLbsJqSLTn5DdS6jjQ+izEwSjAXxJQTyC4NwihcTHagZ30sfanVMBslN8a0IvKSCuziEPDxCfHiHoPYHxGFEQIAxDS0RJl4N7LJ67cEaPiJN0T0Jqma05guIb0e0NRO8BflZiTS0ntZZ1kmA67OPu+gLztwmNQ9t4pRozNBW4VFi6PsYrD1PHB3sPIGszMsSEyxhm8wU837dFWmdoFOZmrovXyRjTlxHJzk5AhSZdYn5Mw2YT1temQql4W6CNpn+lswnNYb6yiV3yFv1eyP+LFvsHn0n2OzO1f24AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="Git server and developer workstation"\n        title=""\n        src="/static/99782d8888a9dacb6cf6ea6ec5ca18eb/9f82e/git-server-and-workstation.png"\n        srcset="/static/99782d8888a9dacb6cf6ea6ec5ca18eb/5a46d/git-server-and-workstation.png 300w,\n/static/99782d8888a9dacb6cf6ea6ec5ca18eb/0a47e/git-server-and-workstation.png 600w,\n/static/99782d8888a9dacb6cf6ea6ec5ca18eb/9f82e/git-server-and-workstation.png 820w"\n        sizes="(max-width: 820px) 100vw, 820px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",l.createElement(t.em,null,"Git server and developer workstation")),"\n",l.createElement(t.p,null,"You can use a virtual machine or a bare-metal server for the ",l.createElement(t.code,null,"Git Server"),"."),"\n",l.createElement(t.p,null,"Do step one to three on the ",l.createElement(t.code,null,"Git Server")," and the fourth on the ",l.createElement(t.code,null,"Developer Workstation(s)"),"."),"\n",l.createElement(t.h1,null,"#1 Install Git server"),"\n",l.createElement(t.p,null,"We are using Ubuntu in the ",l.createElement(t.code,null,"Git Server")," so will use ",l.createElement(t.code,null,"apt")," for installing Git. If you are using a different Linux distribution, use the appropriate package manager."),"\n",l.createElement(t.p,null,"Install Git in the ",l.createElement(t.code,null,"Git Server"),"."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"sudo apt update\nsudo apt-get install git-core\n")),"\n",l.createElement(t.h1,null,"#2 Create git user"),"\n",l.createElement(t.p,null,"Create ",l.createElement(t.code,null,"git")," user in the ",l.createElement(t.code,null,"Git Server"),"."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"sudo adduser git\n")),"\n",l.createElement(t.p,null,"Type in a password when prompted."),"\n",l.createElement(t.p,null,"This will create the ",l.createElement(t.code,null,"git")," user and home directory ",l.createElement(t.code,null,"/home/git")," for the user."),"\n",l.createElement(t.h1,null,"#3 Create the repository on the server"),"\n",l.createElement(t.p,null,"Do NOT switch to the ",l.createElement(t.code,null,"git")," user yet. We'll do it shortly afterwords."),"\n",l.createElement(t.p,null,"Create a directory for storing git repos on the server and give permission to ",l.createElement(t.code,null,"git")," user."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"sudo mkdir /srv/git\nsudo chown git /srv/git/\nsudo chgrp git /srv/git\n")),"\n",l.createElement(t.p,null,"Switch to ",l.createElement(t.code,null,"git")," user and create a repository."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"su git\ncd /srv/git\nmkdir coffee-app.git\ncd coffee-app.git\ngit init --bare\n")),"\n",l.createElement(t.p,null,"We are using ",l.createElement(t.code,null,"coffee-app.git")," as our repository name. You can use any name you like."),"\n",l.createElement(t.h1,null,"#4 Start commiting from the development machine"),"\n",l.createElement(t.p,null,"Do this on the ",l.createElement(t.code,null,"Developer Workstation"),".\nWe assume that Git client is already installed in the workstation."),"\n",l.createElement(t.p,null,"Configure the global email and username for Git, if you haven't done it yet."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},'git config --global user.email "cloud@cloudqubes.com"\ngit config --global user.name "cloudqubes"\n')),"\n",l.createElement(t.p,null,"Create the ",l.createElement(t.code,null,"coffee-app")," (use your preferred name.)"),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},'mikdir coffee-app\ncd coffee-app\necho "coffee" > README.md\ngit init\ngit add .\ngit commit -m "initial commit"\ngit remote add origin git@10.212.251.186:/srv/git/coffee-app.git\ngit push -u origin master\n')),"\n",l.createElement(t.p,null,"Note that we are using the IP address of the ",l.createElement(t.code,null,"Git Server"),". Use the correct IP address in your case."),"\n",l.createElement(t.p,null,"You will be asked to enter the password of the ",l.createElement(t.code,null,"git")," user.\nAnd, that's it."),"\n",l.createElement(t.p,null,"You have successfully made the first code commit to your private Git Server."),"\n",l.createElement(t.p,null,"If you think it's too much work to enter the password everytime you are push, proceed to the next step."),"\n",l.createElement(t.h1,null,"Configure SSH keys (optional)"),"\n",l.createElement(t.p,null,"Do this in the ",l.createElement(t.code,null,"Developer Workstation")," to free yourself you from having to type in the password every time you push code to the server."),"\n",l.createElement(t.p,null,"Create new SSH keys."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"ssh-keygen -f ~/.ssh/git_server\nssh-copy-id -i ~/.ssh/git_server git@10.212.251.186\n")),"\n",l.createElement(t.p,null,"Add the following lines to ",l.createElement(t.code,null,"~/.ssh/config"),"."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"Host git_server\n  User git\n  Hostname 10.212.251.186\n  IdentityFile ~/.ssh/git_server \n")),"\n",l.createElement(t.p,null,"Make sure to use the correct IP address."),"\n",l.createElement(t.p,null,"Update the remote URL in the Git repository."),"\n",l.createElement(t.pre,null,l.createElement(t.code,{className:"language-shell"},"git remote set-url origin git_server:/srv/git/coffee-app.git\n")),"\n",l.createElement(t.p,null,"Take note of the ",l.createElement(t.code,null,"git_server")," in the URL. It's the value we used for the ",l.createElement(t.code,null,"Host")," parameter in the ",l.createElement(t.code,null,"~/.ssh/config")," file."),"\n",l.createElement(t.p,null,"Now, you can continue committing without having to enter the password."))}var c=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,a.ah)(),e.components);return t?l.createElement(t,e,l.createElement(r,e)):r(e)},o=n(72),i=n(5595),s=n(8370);const m=e=>{let{data:t,children:n}=e;return l.createElement(o.Z,{pageTitle:t.mdx.frontmatter.title},l.createElement("div",{className:s.HV},l.createElement("article",{className:s.nC},l.createElement("div",null,l.createElement("span",{className:s.F4},t.mdx.frontmatter.date," - "),l.createElement("span",{className:s.F4},t.mdx.fields.timeToRead.text)),l.createElement("h1",{className:s.TN},t.mdx.frontmatter.title),n)))},d=e=>{let{data:t}=e;return l.createElement(i.p,{title:t.mdx.frontmatter.title,description:t.mdx.frontmatter.description})};function u(e){return l.createElement(m,e,l.createElement(c,e))}},72:function(e,t,n){n.d(t,{Z:function(){return d}});var a=n(7294),l=n(1883),r=n(8032),c="layout-module--footerCard--8fc61",o="layout-module--inner-container--df4cb",i="layout-module--nav-item--3670c",s="layout-module--socialMediaLink--69be6",m="layout-module--socialMediaLogo--1fd87";var d=e=>{let{pageTitle:t,children:d}=e;return a.createElement("div",null,a.createElement("header",{className:"layout-module--main-header--0975f"},a.createElement("div",{className:o},a.createElement("div",{className:"layout-module--logo-container--6ca7c"},a.createElement(l.Link,{to:"/"},a.createElement(r.S,{alt:"cloudqubes logo",src:"../images/logo_v1.png",className:"layout-module--logo--ff776",__imageData:n(1218)})),a.createElement(l.Link,{to:"/"},a.createElement("h1",{className:"layout-module--logo-text--e7423"},"cloudqubes"))),a.createElement("nav",{className:"layout-module--nav-container--96fe9"},a.createElement("ul",{className:"layout-module--nav-item-list--aaad3"},a.createElement("li",{className:i},a.createElement(l.Link,{to:"/about"},"About")),a.createElement("li",{className:i},a.createElement(l.Link,{to:"/blog"},"Blog")),a.createElement("li",{className:i},a.createElement(l.Link,{to:"/contact"},"Contact")),a.createElement("li",{className:i},a.createElement(l.Link,{to:"https://cloudqubes.substack.com/"},"Newsletter")))))),a.createElement("main",null,d),a.createElement("footer",{className:"layout-module--footer--ad7d0"},a.createElement("div",{className:o},a.createElement("div",{className:c},a.createElement("div",{className:"layout-module--footerLogoContainer--67598"},a.createElement(l.Link,{to:"/"},a.createElement(r.S,{alt:"cloudqubes logo",src:"../images/logo_v1.png",className:"layout-module--footerLogo--cd38c",__imageData:n(1218)})),a.createElement(l.Link,{to:"/"},a.createElement("h1",{className:"layout-module--footerLogoText--58444"},"cloudqubes"))),a.createElement("div",null,a.createElement(l.Link,{to:"/about",className:"layout-module--footerAbout--6e9dd"},"About"))),a.createElement("div",{className:c},a.createElement("div",{className:"layout-module--socialMediaIcons--19ec3"},a.createElement(l.Link,{to:"https://github.com/cloudqubes",className:s},a.createElement(r.S,{alt:"cloudqubes logo",src:"../images/github-mark.png",className:m,__imageData:n(1371)})),a.createElement(l.Link,{to:"https://twitter.com/cloudqubes",className:s},a.createElement(r.S,{alt:"cloudqubes logo",src:"../images/logo-black.png",className:m,__imageData:n(4917)})))))))}},5595:function(e,t,n){n.d(t,{p:function(){return r}});var a=n(7294),l=n(1883);const r=e=>{let{title:t,description:n,pathname:r,children:c}=e;const{title:o,description:i,image:s,siteUrl:m,twitterUsername:d}=(0,l.useStaticQuery)("1865044719").site.siteMetadata,u={title:t||o,description:n||i,image:""+m+s,url:""+m+(r||""),twitterUsername:d};return a.createElement(a.Fragment,null,a.createElement("title",null,u.title),a.createElement("meta",{name:"description",content:u.description}),a.createElement("meta",{name:"image",content:u.image}),a.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),a.createElement("meta",{name:"twitter:title",content:u.title}),a.createElement("meta",{name:"twitter:url",content:u.url}),a.createElement("meta",{name:"twitter:description",content:u.description}),a.createElement("meta",{name:"twitter:image",content:u.image}),a.createElement("meta",{name:"twitter:creator",content:u.twitterUsername}),a.createElement("link",{rel:"icon",href:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>👤</text></svg>"}),c)}},8370:function(e,t,n){n.d(t,{F4:function(){return r},HV:function(){return l},TN:function(){return c},nC:function(){return a}});var a="article-module--container--2d8cc",l="article-module--outerContainer--119e3",r="article-module--post-meta--34964",c="article-module--title--f5d32"},1151:function(e,t,n){n.d(t,{ah:function(){return r}});var a=n(7294);const l=a.createContext({});function r(e){const t=a.useContext(l);return a.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}},1371:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/43ce87609eb221d09d4832a9c0e709d0/87351/github-mark.png","srcSet":"/static/43ce87609eb221d09d4832a9c0e709d0/7ab40/github-mark.png 60w,\\n/static/43ce87609eb221d09d4832a9c0e709d0/a8b52/github-mark.png 120w,\\n/static/43ce87609eb221d09d4832a9c0e709d0/87351/github-mark.png 240w","sizes":"(min-width: 240px) 240px, 100vw"},"sources":[{"srcSet":"/static/43ce87609eb221d09d4832a9c0e709d0/927d1/github-mark.webp 60w,\\n/static/43ce87609eb221d09d4832a9c0e709d0/507b0/github-mark.webp 120w,\\n/static/43ce87609eb221d09d4832a9c0e709d0/8d565/github-mark.webp 240w","type":"image/webp","sizes":"(min-width: 240px) 240px, 100vw"}]},"width":240,"height":240}')},1218:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/c7817e006b3b3fde36d3536130dbde94/d6138/logo_v1.png","srcSet":"/static/c7817e006b3b3fde36d3536130dbde94/15e42/logo_v1.png 100w,\\n/static/c7817e006b3b3fde36d3536130dbde94/5aead/logo_v1.png 200w,\\n/static/c7817e006b3b3fde36d3536130dbde94/d6138/logo_v1.png 400w","sizes":"(min-width: 400px) 400px, 100vw"},"sources":[{"srcSet":"/static/c7817e006b3b3fde36d3536130dbde94/d8057/logo_v1.webp 100w,\\n/static/c7817e006b3b3fde36d3536130dbde94/2e34e/logo_v1.webp 200w,\\n/static/c7817e006b3b3fde36d3536130dbde94/416c3/logo_v1.webp 400w","type":"image/webp","sizes":"(min-width: 400px) 400px, 100vw"}]},"width":400,"height":400}')},4917:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/c019bd434e5489eb40e386b60cf045c9/78e61/logo-black.png","srcSet":"/static/c019bd434e5489eb40e386b60cf045c9/7237d/logo-black.png 600w,\\n/static/c019bd434e5489eb40e386b60cf045c9/02c57/logo-black.png 1200w,\\n/static/c019bd434e5489eb40e386b60cf045c9/78e61/logo-black.png 2400w","sizes":"(min-width: 2400px) 2400px, 100vw"},"sources":[{"srcSet":"/static/c019bd434e5489eb40e386b60cf045c9/63168/logo-black.webp 600w,\\n/static/c019bd434e5489eb40e386b60cf045c9/13b13/logo-black.webp 1200w,\\n/static/c019bd434e5489eb40e386b60cf045c9/b4361/logo-black.webp 2400w","type":"image/webp","sizes":"(min-width: 2400px) 2400px, 100vw"}]},"width":2400,"height":2453}')}}]);
//# sourceMappingURL=component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-how-to-set-up-private-git-server-index-mdx-804b88ecd373edc33f26.js.map