"use strict";(self.webpackChunkcloudqubes=self.webpackChunkcloudqubes||[]).push([[949],{1212:function(e,t,n){n.r(t),n.d(t,{Head:function(){return m},default:function(){return d}});var l=n(1151),a=n(7294);function u(e){const t=Object.assign({p:"p",h3:"h3",pre:"pre",code:"code"},(0,l.ah)(),e.components);return a.createElement(a.Fragment,null,a.createElement(t.p,null,"Here's how to resize the default logical volume in Ubuntu 20.04 (Focal Fossa)."),"\n",a.createElement(t.h3,null,"Check the current disk utilization."),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ df -h\nFilesystem                         Size  Used Avail Use% Mounted on\ntmpfs                               38G  2.7M   38G   1% /run\n/dev/mapper/ubuntu--vg-ubuntu--lv   98G   11G   83G  12% /\ntmpfs                              189G     0  189G   0% /dev/shm\ntmpfs                              5.0M     0  5.0M   0% /run/lock\n/dev/sda2                          2.0G  126M  1.7G   7% /boot\n/dev/sda1                          1.1G  5.3M  1.1G   1% /boot/efi\ntmpfs                               38G  4.0K   38G   1% /run/user/1000\n")),"\n",a.createElement(t.p,null,"The 98G root partition is mounted at ",a.createElement(t.code,null,"/dev/mapper/ubuntu--vg-ubuntu--lv")," which indicates that it is a logical volume."),"\n",a.createElement(t.h3,null,"View the logical volume"),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ sudo lvdisplay \n  --- Logical volume ---\n  LV Path                /dev/ubuntu-vg/ubuntu-lv\n  LV Name                ubuntu-lv\n  VG Name                ubuntu-vg\n  LV UUID                zD6JWq-kNyn-j4QN-B2YQ-PfMk-CQi5-hyGDNW\n  LV Write Access        read/write\n  LV Creation host, time ubuntu-server, 2022-08-10 17:33:38 +0000\n  LV Status              available\n  # open                 1\n  LV Size                100.00 GiB\n  Current LE             25600\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           253:0\n")),"\n",a.createElement(t.p,null,"The logical volume belongs to the volume group ",a.createElement(t.code,null,"ubuntu-vg"),".\nThe logical volume size is 100 GiB."),"\n",a.createElement(t.h3,null,"View the volume group"),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ sudo vgdisplay \n  --- Volume group ---\n  VG Name               ubuntu-vg\n  System ID             \n  Format                lvm2\n  Metadata Areas        1\n  Metadata Sequence No  2\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                1\n  Open LV               1\n  Max PV                0\n  Cur PV                1\n  Act PV                1\n  VG Size               <891.20 GiB\n  PE Size               4.00 MiB\n  Total PE              228147\n  Alloc PE / Size       25600 / 100.00 GiB\n  Free  PE / Size       202547 / <791.20 GiB\n  VG UUID               akPqd3-w8FH-l86R-SQ0Y-42KS-MI7c-Gj2psL\n")),"\n",a.createElement(t.p,null,"We have 791.2 GiB of free space."),"\n",a.createElement(t.h3,null,"Check the physical volume"),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ sudo pvdisplay \n  --- Physical volume ---\n  PV Name               /dev/sda3\n  VG Name               ubuntu-vg\n  PV Size               891.20 GiB / not usable 2.00 MiB\n  Allocatable           yes \n  PE Size               4.00 MiB\n  Total PE              228147\n  Free PE               202547\n  Allocated PE          25600\n  PV UUID               HEBVLN-mSCE-lnEB-Ksf5-GSSd-J1m0-pdWPvG\n")),"\n",a.createElement(t.p,null,"The physical volume size is 891.20 GiB."),"\n",a.createElement(t.h3,null,"Extend the logical volume"),"\n",a.createElement(t.p,null,"We have enough free capacity in the physical volume and the volume group.\nWhat is remaining is to extend the logical volume."),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@testlab7401:~$ sudo lvextend -l +100%FREE /dev/ubuntu-vg/ubuntu-lv\n  Size of logical volume ubuntu-vg-1/ubuntu-lv changed from 100.00 GiB (25600 extents) to <891.20 GiB (228147 extents).\n  Logical volume ubuntu-vg-1/ubuntu-lv successfully resized.\n")),"\n",a.createElement(t.p,null,"Check the vlume size."),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ sudo lvdisplay \n  --- Logical volume ---\n  LV Path                /dev/ubuntu-vg/ubuntu-lv\n  LV Name                ubuntu-lv\n  VG Name                ubuntu-vg\n  LV UUID                zD6JWq-kNyn-j4QN-B2YQ-PfMk-CQi5-hyGDNW\n  LV Write Access        read/write\n  LV Creation host, time ubuntu-server, 2022-08-10 17:33:38 +0000\n  LV Status              available\n  # open                 1\n  LV Size                <891.20 GiB\n  Current LE             228147\n  Segments               1\n  Allocation             inherit\n  Read ahead sectors     auto\n  - currently set to     256\n  Block device           253:0\n")),"\n",a.createElement(t.p,null,"Now, the size has increased to 891.20 GiB."),"\n",a.createElement(t.h3,null,"Resize file system"),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@r740:~$ sudo resize2fs /dev/mapper/ubuntu--vg-ubuntu--lv\nresize2fs 1.46.5 (30-Dec-2021)\nFilesystem at /dev/mapper/ubuntu--vg-ubuntu--lv is mounted on /; on-line resizing required\nold_desc_blocks = 13, new_desc_blocks = 112\nThe filesystem on /dev/mapper/ubuntu--vg-ubuntu--lv is now 233622528 (4k) blocks long.\n")),"\n",a.createElement(t.p,null,"Check the size."),"\n",a.createElement(t.pre,null,a.createElement(t.code,{className:"language-shell"},"dialog@testlab7401:~$ df -h\nFilesystem                            Size  Used Avail Use% Mounted on\ntmpfs                                  38G  2.9M   38G   1% /run\n/dev/mapper/ubuntu--vg--1-ubuntu--lv  877G   92G  749G  11% /\ntmpfs                                 189G     0  189G   0% /dev/shm\ntmpfs                                 5.0M     0  5.0M   0% /run/lock\n/dev/sda2                             2.0G  126M  1.7G   7% /boot\n/dev/sda1                             1.1G  5.3M  1.1G   1% /boot/efi\ntmpfs                                  38G  4.0K   38G   1% /run/user/1000\n")),"\n",a.createElement(t.p,null,"Now, the root volume has 877 GiB capacity."))}var r=function(e){void 0===e&&(e={});const{wrapper:t}=Object.assign({},(0,l.ah)(),e.components);return t?a.createElement(t,e,a.createElement(u,e)):u(e)},i=n(72),c=n(5595),o=n(8370);const s=e=>{let{data:t,children:n}=e;return a.createElement(i.Z,{pageTitle:t.mdx.frontmatter.title},a.createElement("div",{className:o.HV},a.createElement("article",{className:o.nC},a.createElement("div",null,a.createElement("span",{className:o.F4},t.mdx.frontmatter.date," - "),a.createElement("span",{className:o.F4},t.mdx.fields.timeToRead.text)),a.createElement("h1",{className:o.TN},t.mdx.frontmatter.title),n)))},m=e=>{let{data:t}=e;return a.createElement(c.p,{title:t.mdx.frontmatter.title,description:t.mdx.frontmatter.description})};function d(e){return a.createElement(s,e,a.createElement(r,e))}},5595:function(e,t,n){n.d(t,{p:function(){return u}});var l=n(7294),a=n(1883);const u=e=>{let{title:t,description:n,pathname:u,children:r}=e;const{title:i,description:c,image:o,siteUrl:s,twitterUsername:m}=(0,a.useStaticQuery)("1865044719").site.siteMetadata,d={title:t||i,description:n||c,image:""+s+o,url:""+s+(u||""),twitterUsername:m};return l.createElement(l.Fragment,null,l.createElement("title",null,d.title),l.createElement("meta",{name:"description",content:d.description}),l.createElement("meta",{name:"image",content:d.image}),l.createElement("meta",{name:"twitter:card",content:"summary_large_image"}),l.createElement("meta",{name:"twitter:title",content:d.title}),l.createElement("meta",{name:"twitter:url",content:d.url}),l.createElement("meta",{name:"twitter:description",content:d.description}),l.createElement("meta",{name:"twitter:image",content:d.image}),l.createElement("meta",{name:"twitter:creator",content:d.twitterUsername}),l.createElement("link",{rel:"icon",href:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ðŸ‘¤</text></svg>"}),r)}},8370:function(e,t,n){n.d(t,{F4:function(){return u},HV:function(){return a},TN:function(){return r},nC:function(){return l}});var l="article-module--container--2d8cc",a="article-module--outerContainer--119e3",u="article-module--post-meta--34964",r="article-module--title--f5d32"},1151:function(e,t,n){n.d(t,{ah:function(){return u}});var l=n(7294);const a=l.createContext({});function u(e){const t=l.useContext(a);return l.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}}}]);
//# sourceMappingURL=component---src-pages-blog-mdx-frontmatter-slug-js-content-file-path-blog-how-to-extend-root-disk-ubuntu-index-mdx-f6c4ac73f54cbde106d5.js.map